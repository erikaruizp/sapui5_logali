<core:FragmentDefinition xmlns="sap.m"
                         xmlns:core="sap.ui.core">
    <Panel>
        <headerToolbar>
            <Toolbar>
                <core:Icon src="{= ${incidenceModel>Type} === '0' ? 'accept' : 
                                   ${incidenceModel>Type} === '1' ? 'alert' :
                                   ${incidenceModel>Type} === '2' ? 'decline' : ''
                                }"/>
                <Title text="{i18n>titleIncidence} {= ${incidenceModel>IncidenceId} ? parseInt(${incidenceModel>IncidenceId}) : ''}
                             {path:'incidenceModel>CreationDate', formatter:'.Formatter.dateFormat'}"/>
                <ToolbarSpacer />
                <Button icon="sap-icon://save" press="onSaveIncidence" 
                        enabled="{= ${incidenceModel>IncidenceId} ?
                                    ${incidenceModel>CreationDateX} === true || ${incidenceModel>ReasonX} === true ||  ${incidenceModel>TypeX} === true :
                                    ${incidenceModel>CreationDateX} === true &amp;&amp; ${incidenceModel>ReasonX} === true &amp;&amp; ${incidenceModel>TypeX} === true 
                                 }"/>
                <core:Icon src="delete" press="onDeleteIncidence"/>
            </Toolbar>
        </headerToolbar>
        <content>
            <HBox>
                <VBox class="sapUiSmallMarginEnd">
                    <Label text="{i18n>columnDate}" required="true"/>
                    <DatePicker dateValue="{incidenceModel>CreationDate}" change="onUpdateDateX" valueState="{incidenceModel>CreationDateState}"/>
                </VBox>
                <VBox class="sapUiSmallMarginEnd" visible="{= ${incidenceModel>CreationDate} !== '' &amp;&amp; ${incidenceModel>CreationDate} !== undefined}">
                    <Label text="{i18n>columnReason}" required="true"/>
                    <Input value="{incidenceModel>Reason}" required="false" change="onUpdateReasonX" valueState="{incidenceModel>ReasonState}"/>
                </VBox> 
                <VBox class="sapUiSmallMarginEnd" visible="{= ${incidenceModel>CreationDate} !== '' &amp;&amp; ${incidenceModel>CreationDate} !== undefined}">
                    <Text text="{i18n>columnStatus}"/>
                    <Select selectedKey="{incidenceModel>Type}" forceSelection="false" change="onUpdateTypeX">
                        <core:Item key="0" text="{i18n>optionCorrect}" />
                        <core:Item key="1" text="{i18n>optionPending}" />
                        <core:Item key="2" text="{i18n>optionError}" />
                    </Select>
                </VBox>                                
            </HBox>
        </content>
    </Panel>
</core:FragmentDefinition>                           